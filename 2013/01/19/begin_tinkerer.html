<!DOCTYPE html><!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>博客迁移到tinkerer &mdash; Jason Wu&#39;s Thoughts and Writings</title><meta name="description" content="关注DevOps、Web安全、Web开发、python、nginx">
        <meta name="viewport" content="width=device-width">


        <link rel="stylesheet/less" href="../../../_static/less/bootstrap.less" type="text/css">
        <link rel="stylesheet/less" href="../../../_static/less/responsive.less" type="text/css">
        <link rel="stylesheet" href="../../../_static/css/bootstrap.css" type="text/css">
        <link rel="stylesheet" href="../../../_static/css/responsive.css" type="text/css">
        <link rel="stylesheet" href="../../../_static/style.css?ver=1.0" type="text/css">
        <link rel="stylesheet" href="../../../_static/main.css?ver=1.0" type="text/css">
        <link rel="stylesheet" href="../../../_static/modern5.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
        <link rel="stylesheet" href="../../../_static/webfont.css" type="text/css"><link rel="shortcut icon" href="../../../_static/favicon.ico" /><!-- Load modernizr and JQuery -->
        <script src="../../../_static/vendor/modernizr-2.6.2.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="../../../_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="../../../_static/plugins.js"></script>
        <script src="../../../_static/js/bootstrap.min.js?ver=3.4.2"></script>
        <script src="../../../_static/js/scripts.js?ver=3.4.2"></script>
        <script src="../../../_static/main.js"></script>
        <link rel="next" title="使用NGINX+UWSGI来部署Django" href="../../../2012/12/04/use_nginx_uwsgi_deploy_django.html" /><link rel="prev" title="如何判断一个值在lua的table里" href="../../06/02/search_for_an_item_in_a_lua_list.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="http://feed.feedsky.com/JasonWu" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="../../../_static/underscore.js"></script><script type="text/javascript" src="../../../_static/doctools.js"></script><script type="text/javascript" src="../../../_static/disqus.js"></script></head>
    <body class="home blog custom-background"> 
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]--><header role="banner">
            <div id="inner-header" class="clearfix">
                <div class="navbar navbar-fixed-top">
                    <div class="navbar-inner">
                        <div class="container-fluid nav-container">
                            <nav role="navigation">
                            <a class="brand" id="logo" title="关注DevOps、Web安全、Web开发、python、nginx" href="../../../index.html">Jason Wu&#39;s Thoughts and Writings</a>
                            <div class="nav-collapse">
                                <ul class="nav">
                                    <li class="menu-item">
                                    <a href="../../../archive.html">Archive</a>
                                    </li>
                                    <li class="dropdown menu-item menu-item-type-custom menu-item-object-custom" >
                                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">Categories<b class="caret"></b></a>
                                    <ul class="dropdown-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-1"><a href="../../../categories/blog.html">blog</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-2"><a href="../../../categories/linux.html">linux</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-1"><a href="../../../categories/lua.html">lua</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-1"><a href="../../../categories/network.html">network</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-1"><a href="../../../categories/nginx.html">nginx</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-4"><a href="../../../categories/python.html">python</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-2"><a href="../../../categories/security.html">security</a></li></ul>
                                                </li>
                                    <li class="menu-item">
                                    <a href="../../../pages/about.html">About</a>
                                    </li>
                                </ul>
                                    <form action="../../../search.html" class="navbar-search pull-left">
                                        <input type="text" placeholder="Search" class="search-query span2" name="q">
                                    </form>
                            </div>
                            </nav>
                            </div>
                        </div>
                    </div>
                </div> <!-- end #inner-header -->
                </header>
                <div class="container-fluid"><div class="clearfix row-fluid">
                <div id="main" class="span8 clearfix" role="main"><article id="post-54" class="post clearfix" role="article">
                    <div class="timestamp postmeta">
            <span>一月 19, 2013</span>
        </div>
    <div class="section" id="tinkerer">
<h1>博客迁移到tinkerer</h1>
<p>在11年时，将我的博客从wordpress+mysql换成了django+sqlite，具体可见 <a class="reference external" href="http://jasonwu.me/2011/05/29/The-blog-from-wordpress-migrate-django.html">将博客从wordpress迁移到django</a> 这篇文章， 在折腾精神的感召下，在12年底我将博客程序又换掉了，这次换成了一个基于 <a class="reference external" href="http://sphinx.pocoo.org/">sphinx</a> 静态博客生成器 <a class="reference external" href="http://tinkerer.me/pages/documentation.html">tinkerer</a> ， <tt class="docutils literal"><span class="pre">tinkerer</span></tt> 使用 <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>  作为标记语言，可以生成文章的分类，tag，支持评论和代码高亮，文章评论使用 <tt class="docutils literal"><span class="pre">disqus</span></tt> , 高亮代码使用 <tt class="docutils literal"><span class="pre">Pygments</span></tt> 。</p>
<p>说说为什么使用 <tt class="docutils literal"><span class="pre">tinkerer</span></tt> ，从打算把博客弄成静态站点开始我尝试了很多项目，如 <tt class="docutils literal"><span class="pre">octpress</span></tt> 、 <tt class="docutils literal"><span class="pre">jekyll</span></tt> 、 <tt class="docutils literal"><span class="pre">pelican</span></tt> ，一次偶然的机会在 <tt class="docutils literal"><span class="pre">bitbucket</span></tt> 上发现了 <tt class="docutils literal"><span class="pre">tinkerer</span></tt> ，试用后感觉比较顺手，并且可以使用sphinx的扩展，我比较熟悉 <tt class="docutils literal"><span class="pre">sphinx</span></tt> 和 <tt class="docutils literal"><span class="pre">reStructuredText</span></tt> 的使用，平时就用这两个东西写文档，因此选择了基于 <tt class="docutils literal"><span class="pre">sphinx</span></tt> 的 <tt class="docutils literal"><span class="pre">tinkerer</span></tt> 。我最开始使用的是0.4 beta版还存在一些bug，然后我自己做了一些修改pull给作者，作者很快就接受了我的pull request，并表示感谢，现在1.0版本已经发布，基本上没有比较明显的bug了，只是有一些细节可能不是那么完美，还有一个就是主题很少，目前默认的几款主题，都不是很美观，目前我在移植一款主题。</p>
<p>tinkerer的一些使用经验:</p>
<p>＊ 自定义博客的侧边栏</p>
<p>这里以创建友情链接的plugin作为例子，复制boilerplate主题目录下recent.html为一个新的文件，如friendslinks.html，然后改成如下这样就可以了:</p>
<div class="highlight-html"><div class="highlight"><pre>{#-
    boilerplate/friendslinks.html
    ~~~~~~~~~~~~~~~~~~~~~

    Sidebar list of all tags.

    :copyright: Copyright 2012 by Iñigo Serna
    :license: FreeBSD, see LICENSE file
-#}

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;widget&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Friends links<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.qdyongai.cn/?from=jason&quot;</span><span class="nt">&gt;</span>龙哥-网站设计<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.zipeng.info/?from=jason&quot;</span><span class="nt">&gt;</span>子鹏-kun的记事本<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.aaronw.me/?from=jason&quot;</span><span class="nt">&gt;</span>王炜-我的技术生活<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://cuikai-wh.com/?from=jason&quot;</span><span class="nt">&gt;</span>小轰-时光立方<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p><strong>这里要注意的是默认的modern5主题是继承于boilerplate这个主题，因此只要修改boilerplate这个主题就可以了</strong></p>
<p>然后在conf.py中加入这个文件的配置</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Add templates to be rendered in sidebar here</span>
<span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;**&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;searchbox.html&quot;</span><span class="p">,</span> <span class="s">&quot;categories.html&quot;</span><span class="p">,</span> <span class="s">&quot;recent.html&quot;</span><span class="p">,</span> <span class="s">&quot;friendslinks.html&quot;</span><span class="p">,</span> <span class="s">&quot;weibo.html&quot;</span><span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>创建一个makefile，使用过 <tt class="docutils literal"><span class="pre">sphinx</span></tt> 的人应该都知道 <tt class="docutils literal"><span class="pre">sphinx</span></tt> 会生成一个 makefile，这样可以直接使用make html就可以生成文档了，tinker没有提供，那么我们可以自己写一个，让我么操作的更加自动化，如下是我 <tt class="docutils literal"><span class="pre">Makefile</span></tt> 示例，大家可以参照下：</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre>all: build commit update

clean:
             rm -rf blog/html/

build:
             tinker -b

serve:
             <span class="nb">cd </span>blog/html/ <span class="o">&amp;&amp;</span> python -m SimpleHTTPServer

commit:
             hg commit ./ -m <span class="s1">&#39;add new post&#39;</span><span class="o">&amp;&amp;</span>hg push
                     @echo <span class="s2">&quot;Done...&quot;</span>

update:
             ssh root@jasonwu.me <span class="s1">&#39;cd /home/admin/jasonwu.me/&amp;&amp;hg pull&amp;&amp;hg update&#39;</span>
</pre></div>
</div>
<p>这个makefile主要实现了生成文档，在本地起一个http服务器来查看生成的文章效果，提交到bitbucket和更新vps上的博客内容等功能，将这些操作完全的自动化，是不是很方便，大家玩的开心。</p>
</div>

    <div class="postmeta">
        <div class="author">
            <span>Posted by Jason Wu</span>
        </div>
        <div class="categories">
            <span>
                Filed under:
                <a href="../../../categories/blog.html">blog</a></span>
        </div>
        <div class="tags">
            <span>
                Tags:
                <a class="label"; rel="tag"; href="../../../tags/sphinx.html">sphinx</a>
                <a class="label"; rel="tag"; href="../../../tags/blog.html">blog</a>
                <a class="label"; rel="tag"; href="../../../tags/tinkerer.html">tinkerer</a>
                <a class="label"; rel="tag"; href="../../../tags/staic_site.html">staic site</a>
                </span>
        </div>
        
    </div>
    <div id="disqus_thread"></div><script type="text/javascript">    var disqus_shortname = "jasonwu";    var disqus_identifier = "2013/01/19/begin_tinkerer";    disqus_thread();</script><noscript>Please enable JavaScript to view the    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><ul class="related clearfix">
            <li class="left"><a href="../../06/02/search_for_an_item_in_a_lua_list.html" title="如何判断一个值在lua的table里">← Previous</a></li>
            <li class="right"><a href="../../../2012/12/04/use_nginx_uwsgi_deploy_django.html" title="使用NGINX+UWSGI来部署Django">Next →</a></li>
        </ul></article></div><div id="sidebar1" class="fluid-sidebar sidebar span4" role="complementary"><section><div class="widget" id="social">
    <h1>QR CODE</h1>
    <img alt="jasonwu" src="http://jasonwu.me/_static/img/qr.png">
</div></section><section><div class="widget">
    <h1>Categories</h1>
    <ul><li><a href="../../../categories/blog.html">blog</a> (1)</li><li><a href="../../../categories/linux.html">linux</a> (2)</li><li><a href="../../../categories/lua.html">lua</a> (1)</li><li><a href="../../../categories/network.html">network</a> (1)</li><li><a href="../../../categories/nginx.html">nginx</a> (1)</li><li><a href="../../../categories/python.html">python</a> (4)</li><li><a href="../../../categories/security.html">security</a> (2)</li></ul>
</div></section><section><div class="widget">
    <h1>Recent Posts</h1>
    <ul><li>
            <a href="../../06/02/search_for_an_item_in_a_lua_list.html">如何判断一个值在lua的table里</a>
        </li><li>
            <a href="#">博客迁移到tinkerer</a>
        </li><li>
            <a href="../../../2012/12/04/use_nginx_uwsgi_deploy_django.html">使用NGINX+UWSGI来部署Django</a>
        </li><li>
            <a href="../../../2012/12/04/the_unp_reading_notes_io_model.html">unp读书笔记（第六章I/O模型）</a>
        </li><li>
            <a href="../../../2012/12/03/args_and_kwargs_in_python.html">Python : 什么是*args和**kwargs？</a>
        </li><li>
            <a href="../../../2012/10/13/centos_install_cx_oracle.html">CENT OS安装cx_Oracle遇到的问题及解决方法</a>
        </li><li>
            <a href="../../../2012/10/13/introduce_to_python_lambda.html">python的lambda函数介绍</a>
        </li><li>
            <a href="../../../2012/09/11/detailed_lvs_difference_between_the_three_models.html">LVS的三种模式区别详解</a>
        </li><li>
            <a href="../../../2012/09/11/vmware_several_modules_must_be_compiled_and_loaded_into_the_running_kernel.html">VMware-several-modules-must-be-compiled-and-loaded-into-the-running-kernel</a>
        </li><li>
            <a href="../../../2012/09/08/adjust_nic_irq_for_lvs.html">LVS网卡软中断配置</a>
        </li></ul>
</div>
</section><section><div class="widget">
    <h1>Friends links</h1>
    <ul>
        <li><a href="http://www.qdyongai.cn/?from=jason">龙哥-网站设计</a></li>
        <li><a href="http://www.zipeng.info/?from=jason">子鹏-kun的记事本</a></li>
        <li><a href="http://www.aaronw.me/?from=jason">王炜-我的技术生活</a></li>
        <li><a href="http://cuikai-wh.com/?from=jason">小轰-时光立方</a></li>
    </ul>
</div></section><section><div class="widget">
    <h1>MicroBlog</h1>
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=6&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1793345607&verifier=c7f905c0&dpc=1"></iframe>
</div></section></div></div> <!-- #main --></div> <!-- #main-container -->

        <div class="footer-container"><footer class="wrapper">&copy; Copyright 2013, Jason Wu. Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.</footer></div> <!-- footer-container -->

      </div> <!--! end of #container --><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->
    </body>
</html>